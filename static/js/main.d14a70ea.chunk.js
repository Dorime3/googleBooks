(this.webpackJsonpgooglebooksapp=this.webpackJsonpgooglebooksapp||[]).push([[0],{14:function(e,t,a){e.exports={wrapperSearch:"SearchParams_wrapperSearch__3Se4S",searchForm:"SearchParams_searchForm__1LM_9",inputField:"SearchParams_inputField__fpm0j",buttonSearch:"SearchParams_buttonSearch__1sl8r",searchFilters:"SearchParams_searchFilters__20RJC"}},19:function(e,t,a){e.exports={selectField:"Selectors_selectField__2KOWF"}},36:function(e,t,a){e.exports={preloader:"Preloader_preloader__1Xps3"}},43:function(e,t,a){},44:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var o=a(0),c=a(17),s=a.n(c),n=(a(43),a(2)),r=(a(44),a(38)),i=a(10),l=a(12),d=a(8),b=a.n(d),u=a(1),j=function(e){var t=e.image,a=e.categories,o=e.title,c=e.authors,s=e.id;e.isFetching;return Object(u.jsx)("div",{className:b.a.book,children:Object(u.jsxs)("div",{className:b.a.wrapperBook,children:[Object(u.jsx)(l.b,{to:"/bookpage/"+s,children:Object(u.jsx)("img",{src:t,className:b.a.bookImage,alt:"books cover is`not found"})}),Object(u.jsxs)("div",{className:b.a.bookParams,children:[a?Object(u.jsx)("div",{className:b.a.categoryBook,children:a[0]}):Object(u.jsx)("div",{}),Object(u.jsx)("div",{className:b.a.titleBook,children:o}),c?Object(u.jsx)("div",{className:b.a.authorsBook,children:c.map((function(e){return Object(u.jsxs)("span",{children:[e,". "]},e)}))}):Object(u.jsx)("div",{})]})]})})},m=a(24),h=a(3),g=a(35),O=a.n(g).a.create({baseURL:"https://www.googleapis.com/books/v1/"}),k="AIzaSyAuyb5oH7QI9m1KI4unkwi0i8f-AirshXw",p={getBooks:function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return O.get("volumes?q=".concat(e,"+subject=").concat(t,"&startIndex=").concat(o,"&maxResults=30&orderBy=").concat(a,"&key=").concat(k))}},_={textFromField:"",booksData:[],totalItems:null,availableThemes:["all","art","biography","computers","medical","poetry"],selectedTheme:"all",availableRelevance:["relevance","newest"],selectedRelevance:"relevance",bookId:null,isFetching:!1},f=function(e){return{type:"FETCH",toggle:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIND_BOOK":return Object(h.a)(Object(h.a)({},e),{},{textFromField:t.text});case"SET_BOOKS":return Object(h.a)(Object(h.a)({},e),{},{booksData:t.data});case"TOTAL_ITEMS":return Object(h.a)(Object(h.a)({},e),{},{totalItems:t.total});case"CHOOSE_THEME":return Object(h.a)(Object(h.a)({},e),{},{selectedTheme:t.theme});case"SELECT_RELEVANCE":return Object(h.a)(Object(h.a)({},e),{},{selectedRelevance:t.rel});case"SET_BOOK_ID":return Object(h.a)(Object(h.a)({},e),{},{bookId:t.id});case"ADD_BOOKS":return Object(h.a)(Object(h.a)({},e),{},{booksData:[].concat(Object(m.a)(e.booksData),Object(m.a)(t.books))});case"FETCH":return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.toggle});default:return e}},x=a.p+"static/media/preloader.af2ae354.svg",B=a(36),F=a.n(B),P=function(){return Object(u.jsx)("div",{className:F.a.preloader,children:Object(u.jsx)("img",{src:x,alt:"preloader"})})},T=Object(i.b)((function(e){return{textFromField:e.findBooksPage.textFromField,booksData:e.findBooksPage.booksData,totalItems:e.findBooksPage.totalItems,selectedTheme:e.findBooksPage.selectedTheme,selectedRelevance:e.findBooksPage.selectedRelevance,isFetching:e.findBooksPage.isFetching}}),{addBooksFromButton:function(e,t,a,o){return function(c){c(f(!0)),p.getBooks(e,t,a,o).then((function(e){c({type:"ADD_BOOKS",books:e.data.items})})).then((function(){c(f(!1))}))}}})((function(e){var t=Object(o.useState)(0),a=Object(r.a)(t,2),c=a[0],s=a[1];Object(o.useEffect)((function(){c&&e.addBooksFromButton(e.textFromField,e.selectedTheme,e.selectedRelevance,c)}),[c]);return Object(u.jsxs)(u.Fragment,{children:[e.isFetching?Object(u.jsx)(P,{}):null,e.totalItems&&Object(u.jsxs)("h3",{children:["Found ",e.totalItems," results"]}),Object(u.jsx)("div",{className:b.a.wrapperBooks,children:e.booksData.map((function(t){return Object(u.jsx)(j,{id:t.id,image:t.volumeInfo.imageLinks.smallThumbnail,title:t.volumeInfo.title,categories:t.volumeInfo.categories,authors:t.volumeInfo.authors,isFetching:e.isFetching},t.id)}))}),!!e.booksData.length&&Object(u.jsx)("button",{className:b.a.moreButton,onClick:function(){s(c+30)},children:"Show more"})]})})),I=a(9),S=a.n(I),N=function(e){var t=e.selectedBook,a=t.categories,o=t.title,c=t.authors,s=t.description,n=t.imageLinks;return Object(u.jsxs)("div",{className:S.a.wrapperPage,children:[Object(u.jsx)("div",{className:S.a.imageblock,children:n.thumbnail&&Object(u.jsx)("img",{className:S.a.imagePage,src:n.thumbnail,alt:""})}),Object(u.jsxs)("div",{className:S.a.aboutPage,children:[a&&Object(u.jsx)("div",{className:S.a.categoriesPage,children:a.map((function(e){return Object(u.jsxs)("span",{children:[" ",e," "]},e)}))}),o&&Object(u.jsx)("div",{className:S.a.titlePage,children:o}),c&&Object(u.jsx)("div",{className:S.a.authorsPage,children:c[0]}),s&&Object(u.jsx)("div",{className:S.a.descriptionPage,children:s})]})]})},y=a(11),C=Object(y.c)(Object(i.b)((function(e){return{textFromField:e.findBooksPage.textFromField,booksData:e.findBooksPage.booksData,bookId:e.findBooksPage.bookId}}),{setBookId:function(e){return{type:"SET_BOOK_ID",id:e}}}),n.g)((function(e){return Object(o.useEffect)((function(){var t=e.location.pathname.match(/\b(\w+)\b$/gm)[0];e.setBookId(t)}),[e.bookId]),Object(u.jsx)(u.Fragment,{children:e.bookId&&Object(u.jsx)(N,{selectedBook:e.booksData.filter((function(t){return t.id===e.bookId}))[0].volumeInfo})})})),E=a(19),R=a.n(E),w=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:"Sorting by "}),Object(u.jsx)("select",{className:R.a.selectField,value:e.selectedRelevance,onChange:function(t){e.selectRelevance(t.target.value)},children:e.availableRelevance.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]})},D=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{children:"Categories "}),Object(u.jsx)("select",{className:R.a.selectField,value:e.selectedTheme,onChange:function(t){e.selectTheme(t.target.value)},children:e.availableThemes.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]})},L=a(14),M=a.n(L),K=Object(y.c)(Object(i.b)((function(e){return{textFromField:e.findBooksPage.textFromField,availableThemes:e.findBooksPage.availableThemes,selectedTheme:e.findBooksPage.selectedTheme,selectedRelevance:e.findBooksPage.selectedRelevance,availableRelevance:e.findBooksPage.availableRelevance}}),{selectTheme:function(e){return{type:"CHOOSE_THEME",theme:e}},selectRelevance:function(e){return{type:"SELECT_RELEVANCE",rel:e}},findBook:function(e){return{type:"FIND_BOOK",text:e}},getBooksFromInput:function(e,t,a){return function(o){o(f(!0)),p.getBooks(e,t,a).then((function(e){o({type:"SET_BOOKS",data:e.data.items}),o({type:"TOTAL_ITEMS",total:e.data.totalItems})})).then((function(){o(f(!1))}))}}}),n.g)((function(e){var t=function(t){(""!==t.target.value&13===t.charCode||"BUTTON"===t.target.nodeName)&&(console.log(t),e.history.push("/mainpage"),e.getBooksFromInput(e.textFromField,e.selectedTheme,e.selectedRelevance))};return Object(u.jsxs)("div",{className:M.a.wrapperSearch,children:[Object(u.jsx)("h1",{children:"Search for books"}),Object(u.jsxs)("div",{className:M.a.searchForm,children:[Object(u.jsx)("input",{className:M.a.inputField,value:e.textFromField,onChange:function(t){e.findBook(t.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",onKeyPress:t}),Object(u.jsx)("button",{className:M.a.buttonSearch,onClick:t,children:"Search"})]}),Object(u.jsxs)("div",{className:M.a.searchFilters,children:[Object(u.jsx)(D,{availableThemes:e.availableThemes,selectedTheme:e.selectedTheme,selectTheme:e.selectTheme}),Object(u.jsx)(w,{selectedRelevance:e.selectedRelevance,selectRelevance:e.selectRelevance,availableRelevance:e.availableRelevance})]})]})})),A=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(K,{}),Object(u.jsxs)(n.d,{children:[Object(u.jsx)(n.b,{exact:!0,path:"/",render:function(){return Object(u.jsx)(n.a,{to:"/mainpage"})}}),Object(u.jsx)(n.b,{path:"/mainpage",render:function(){return Object(u.jsx)(T,{})}}),Object(u.jsx)(n.b,{path:"/bookpage",render:function(){return Object(u.jsx)(C,{})}})]})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,o=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),o(e),c(e),s(e),n(e)}))},V=a(37),W=Object(y.b)({findBooksPage:v}),q=Object(y.d)(W,Object(y.a)(V.a));s.a.render(Object(u.jsx)(l.a,{basename:"/googleBooks",children:Object(u.jsx)(i.a,{store:q,children:Object(u.jsx)(A,{})})}),document.getElementById("root")),H()},8:function(e,t,a){e.exports={wrapperBooks:"MyBooksCards_wrapperBooks__2OtLJ",book:"MyBooksCards_book__29N6P",wrapperBook:"MyBooksCards_wrapperBook__1VnWg",bookImage:"MyBooksCards_bookImage__3RoeH",categoryBook:"MyBooksCards_categoryBook__3Pq7b",titleBook:"MyBooksCards_titleBook__PrGan",authorsBook:"MyBooksCards_authorsBook__3gSSU",bookParams:"MyBooksCards_bookParams__1Vb6W",moreButton:"MyBooksCards_moreButton__13HLR"}},9:function(e,t,a){e.exports={wrapperPage:"BooksPage_wrapperPage__2qG9o",imageblock:"BooksPage_imageblock__3K5nQ",imagePage:"BooksPage_imagePage__2h2Z-",aboutPage:"BooksPage_aboutPage__1F0YO",categoriesPage:"BooksPage_categoriesPage__1mlXa",titlePage:"BooksPage_titlePage__2uZ2W",authorsPage:"BooksPage_authorsPage__2x20q",descriptionPage:"BooksPage_descriptionPage__2eWVE"}}},[[73,1,2]]]);
//# sourceMappingURL=main.d14a70ea.chunk.js.map